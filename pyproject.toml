[tool.pyright]

# 明确指定 Python 版本（匹配你的实际环境）
pythonVersion = "3.12"

# 默认检查模式(off/basic/standard/strict)
typeCheckingMode = "strict"

# 排除某些文件的类型检查
exclude = [
    "参考资料/**",
    "tests/**"
]

# 禁止报告缺失的 Stub 文件警告
reportMissingTypeStubs = "none"

# 对于第三方库，降低导入检查严格程度
reportMissingImports = "none"

# 对于未知类型，降低警告级别（主要针对第三方库的部分未完善类型注解）
reportUnknownVariableType = "information"
reportUnknownParameterType = "information"
reportUnknownMemberType = "information"
reportUnknownArgumentType = "information"

# 对于基类类型未知的情况，降低警告级别
reportUntypedBaseClass = "information"

# 对于可选成员访问，保持警告级别（这通常是真正的问题）
reportOptionalMemberAccess = "warning"

# 对于属性访问问题，保持错误级别
reportAttributeAccessIssue = "error"

# 对于缺失参数类型，降低到警告级别
reportMissingParameterType = "warning"

# 可在文件中使用“# pyright: standard”对特定文件降级
# 可对某行使用“  # type: ignore”对该行忽略检查



[tool.ruff]
# 设定 Ruff 要兼容的 Python 版本。
# Ruff 会避免引入不兼容该版本的语法。例如，设为 "py38" 就不会建议使用 Python 3.9+ 的新特性。
# 推荐设置为你项目支持的最低 Python 版本。
target-version = "py312"

# 设置行长度限制
line-length = 88

# 配置文件或目录，让 Ruff 不要检查它们。
# 这对于虚拟环境、构建产物、测试数据等非常重要。
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".hg",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    "venv",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
]



# 指定代码检测 (Lint) 和代码格式化 (Format) 的配置
[tool.ruff.lint]
# 选择要启用的规则集。这是一个很好的起点，包含了大部分常用规则。
# E: pycodestyle 的错误 (Error)
# W: pycodestyle 的警告 (Warning)
# F: Pyflakes 的检查 (Bugs)
# I: isort 的检查 (导入排序)
# UP: pyupgrade 的检查 (升级旧语法)
# C4: flake8-comprehensions (简化推导式)
# B: flake8-bugbear (常见陷阱和代码异味)
select = ["E", "W", "F", "I", "UP", "C4", "B"]

# 对于某些特定文件，可以忽略特定的规则。
# 例如，在 __init__.py 文件中，为了暴露接口，我们常常会导入但“不使用”某些变量。
[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401"] # F401: '...' imported but unused



[tool.ruff.format]
# 引用字符串的风格。可选 "double" 或 "single"。
# "double" (双引号) 是 Black 的默认风格，也是更常见的选择。
quote-style = "double"

# 缩进风格。强烈推荐使用 "space"。
indent-style = "space"

# 是否跳过魔法般的尾随逗号 (magic trailing comma)。
# 设为 false (默认) 意味着当一个列表/字典/元组的最后一个元素后面有逗号时，格式化器会将其展开为多行。
# a = [1, 2, 3,]  -> a = [
#                        1,
#                        2,
#                        3,
#                    ]
# 推荐设为 false。
skip-magic-trailing-comma = false

# 行尾结束符。推荐使用 "lf" 以保证跨平台（Windows, macOS, Linux）的一致性。
# 可选 "lf", "crlf", "native"。
line-ending = "lf"
